<Project>

  <ItemGroup>
    <None Update="**/appsettings.json">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </None>
    <None Update="**/appsettings.*.json">
      <DependentUpon>appsettings.json</DependentUpon>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </None>
  </ItemGroup>

  <ItemGroup Condition="'$(EnableStyleCop)' == 'true'">
    <AdditionalFiles Include="$(RepoRoot)stylecop.json" Visible="false" />
  </ItemGroup>

  <Target Name="GetReleaseNotes" BeforeTargets="BeforeBuild">
    <ReadLinesFromFile File="$(RepoRoot)releasenotes.md">
      <Output TaskParameter="Lines" ItemName="_ReleaseNotesLines" />
    </ReadLinesFromFile>

    <PropertyGroup>
      <PackageReleaseNotes>@(_ReleaseNotesLines, '%0D%0A')</PackageReleaseNotes>
    </PropertyGroup>
  </Target>

</Project>
